<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>fastai v4: Lesson 2 | ML Development Blog</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="fastai v4: Lesson 2" />
<meta name="author" content="<a href='https://www.linkedin.com/in/tmbeck'>Tim Beck</a>" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Notes from Lesson 2 of fastai v4" />
<meta property="og:description" content="Notes from Lesson 2 of fastai v4" />
<link rel="canonical" href="https://blog.tbeck.io/education/fastai/2020/09/06/lesson-2.html" />
<meta property="og:url" content="https://blog.tbeck.io/education/fastai/2020/09/06/lesson-2.html" />
<meta property="og:site_name" content="ML Development Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-09-06T00:00:00-05:00" />
<script type="application/ld+json">
{"url":"https://blog.tbeck.io/education/fastai/2020/09/06/lesson-2.html","@type":"BlogPosting","headline":"fastai v4: Lesson 2","dateModified":"2020-09-06T00:00:00-05:00","datePublished":"2020-09-06T00:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.tbeck.io/education/fastai/2020/09/06/lesson-2.html"},"author":{"@type":"Person","name":"<a href='https://www.linkedin.com/in/tmbeck'>Tim Beck</a>"},"description":"Notes from Lesson 2 of fastai v4","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://blog.tbeck.io/feed.xml" title="ML Development Blog" /><link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">ML Development Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About Me</a><a class="page-link" href="/links/">Useful Links</a><a class="page-link" href="/projects/">Projects</a><a class="page-link" href="/search/">Search</a><a class="page-link" href="/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">fastai v4: Lesson 2</h1><p class="page-description">Notes from Lesson 2 of fastai v4</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2020-09-06T00:00:00-05:00" itemprop="datePublished">
        Sep 6, 2020
      </time>• 
          <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name"><a href='https://www.linkedin.com/in/tmbeck'>Tim Beck</a></span></span>
       • <span class="read-time" title="Estimated read time">
    
    
      4 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/categories/#education">education</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#fastai">fastai</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#lesson-2">Lesson 2</a>
<ul>
<li class="toc-entry toc-h2"><a href="#links">Links</a></li>
<li class="toc-entry toc-h2"><a href="#notes">Notes</a></li>
<li class="toc-entry toc-h2"><a href="#jargon">Jargon</a></li>
<li class="toc-entry toc-h2"><a href="#flash-cards">Flash Cards:</a></li>
<li class="toc-entry toc-h2"><a href="#where-is-deep-learning-good">Where is Deep Learning good?</a></li>
<li class="toc-entry toc-h2"><a href="#products-in-the-wild">Products in the wild</a></li>
<li class="toc-entry toc-h2"><a href="#get-writing">Get Writing</a></li>
<li class="toc-entry toc-h2"><a href="#questionaire">Questionaire</a></li>
</ul>
</li>
</ul><h1 id="lesson-2">
<a class="anchor" href="#lesson-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Lesson 2</h1>

<p>Notes from fastai lesson 2.</p>

<h2 id="links">
<a class="anchor" href="#links" aria-hidden="true"><span class="octicon octicon-link"></span></a>Links</h2>

<ul>
  <li><a href="https://course.fast.ai/videos/?lesson=2">Lesson 2 Video</a></li>
  <li><a href="https://forums.fast.ai/">fastai Forum</a></li>
  <li><a href="https://modelzoo.co/">Model Zoo</a></li>
  <li><a href="https://github.com/onnx/models">ONNX Models</a></li>
</ul>

<h2 id="notes">
<a class="anchor" href="#notes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Notes</h2>

<p>Transfer learning: using an existing architecture to create a model trained on a particular data set</p>

<p>Error is one kind of metric, measuring “how well you’re doing”
Loss is a measure of performance used to improve the parameters. “Are we learning (adjusting our parameters)?”</p>

<p>Model training</p>

<ul>
  <li>Built a model from Bing API search results (grizzly vs black vs teddy bears)</li>
  <li>Used <code class="language-plaintext highlighter-rouge">DataBlock()</code> to create a dataset</li>
  <li>Used dataloaders to load the data into memory</li>
  <li>Used the <code class="language-plaintext highlighter-rouge">resnet18</code> architecture to train a model using the dataset, similar to lesson 1</li>
  <li>Exported the model via pickle to productionize it - model contains the architecture + new parameters + vocabulary (labels)</li>
  <li>Used the model to perform inference on images the model has not seen before</li>
  <li>Used <code class="language-plaintext highlighter-rouge">ImageClassifierCleaner()</code> to clean the dataset</li>
</ul>

<p>Next lesson</p>

<ul>
  <li>Deploying to binder, treating your model as if it’s in production by uploading new images to it in “production”</li>
</ul>

<h2 id="jargon">
<a class="anchor" href="#jargon" aria-hidden="true"><span class="octicon octicon-link"></span></a>Jargon</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Jargon We Use (again)</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">Label</td>
      <td style="text-align: left">The data we’re trying to predict (recall the diagram)</td>
    </tr>
    <tr>
      <td style="text-align: center">Architecture</td>
      <td style="text-align: left">A template of the model we are trying to fit. It represents the mathematical function we pass inputs &amp; parameters to.</td>
    </tr>
    <tr>
      <td style="text-align: center">Model</td>
      <td style="text-align: left">An architecture with a specific set of parameters. The parameters may be created through training over one or more epochs.</td>
    </tr>
    <tr>
      <td style="text-align: center">Parameters</td>
      <td style="text-align: left">The values of the model that we can alter trough training.</td>
    </tr>
    <tr>
      <td style="text-align: center">Fit or Train</td>
      <td style="text-align: left">Updating the parameters such that the model is better able to predict our labels.</td>
    </tr>
    <tr>
      <td style="text-align: center">Pretrained model</td>
      <td style="text-align: left">A model with parameters adjusted via training, typically will be <code class="language-plaintext highlighter-rouge">fine_tune()</code>d, such as <code class="language-plaintext highlighter-rouge">resnet34</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center">fine tune</td>
      <td style="text-align: left">Update a pretrained model for another task, such as making <code class="language-plaintext highlighter-rouge">resnet34</code> recognize cats or dogs.</td>
    </tr>
    <tr>
      <td style="text-align: center">epoch</td>
      <td style="text-align: left">One complete pass through the input data</td>
    </tr>
    <tr>
      <td style="text-align: center">metric</td>
      <td style="text-align: left">A measure of how good the model is to control training via SGD</td>
    </tr>
    <tr>
      <td style="text-align: center">validation set</td>
      <td style="text-align: left">A subset of our data we do not train our model with to measure its performance</td>
    </tr>
    <tr>
      <td style="text-align: center">training set</td>
      <td style="text-align: left">A subset of our data we train our model with that does not include any data from the validation set</td>
    </tr>
    <tr>
      <td style="text-align: center">overfitting</td>
      <td style="text-align: left">Training a model that results in memorization rather than generalization</td>
    </tr>
    <tr>
      <td style="text-align: center">cnn</td>
      <td style="text-align: left">A convolutional neural network, a type of NN suited for computer vision</td>
    </tr>
  </tbody>
</table>

<h2 id="flash-cards">
<a class="anchor" href="#flash-cards" aria-hidden="true"><span class="octicon octicon-link"></span></a>Flash Cards:</h2>

<ul>
  <li>Architecture vs. Model?
    <ul>
      <li>A model includes an architecture with a specific set of parameters. These parameters allow the architecture to do something it wasn’t originally designed to do.</li>
    </ul>
  </li>
</ul>

<h2 id="where-is-deep-learning-good">
<a class="anchor" href="#where-is-deep-learning-good" aria-hidden="true"><span class="octicon octicon-link"></span></a>Where is Deep Learning good?</h2>

<ol>
  <li>Computer Vision - detection &amp; classification</li>
  <li>Text - Classifiction &amp; conversation (but not really)</li>
  <li>Tabular - Effective on high cardinality datasets, e.g. part numbers and serial numbers</li>
  <li>Recommendation Systems (Recsys, aka Collaborative Filtering), but note predictions &lt;&gt; recommendations - because you like to read science fiction, a model might predict you’ll like Aasimov - but that might not be what you want from a recommendation engine e.g. if you’re branching out to Romance.</li>
  <li>Multi-modal - Combining the above, capition images, humans in the loop</li>
  <li>Various other - NLP, protein</li>
</ol>

<h2 id="products-in-the-wild">
<a class="anchor" href="#products-in-the-wild" aria-hidden="true"><span class="octicon octicon-link"></span></a>Products in the wild</h2>

<ol>
  <li>
<a href="https://www.kickstarter.com/projects/2092430307/arsenal-2/description">Arsenal 2</a>, combining a camera with an AI platform</li>
  <li>
<a href="https://www.kickstarter.com/projects/birdsy/birdsy-ai-records-and-ids-birds-and-wildlife-for-you">Birdsy</a>, using computer vision to classify birds in real time</li>
</ol>

<h2 id="get-writing">
<a class="anchor" href="#get-writing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Get Writing</h2>

<p>This blog :)</p>

<h2 id="questionaire">
<a class="anchor" href="#questionaire" aria-hidden="true"><span class="octicon octicon-link"></span></a>Questionaire</h2>

<p>Questions 1-12 are annswered in my lesson 1 notes.</p>

<ol>
  <li>
    <p>What is a p value?</p>

    <p>A p-value is the probability of an observed result assuming that the null hypothesis is true. They are terrible and shouldn’t be relied on, per the American Statistical Association. It does not provide a good measure of evidence for scientific conclusions to be made.</p>

    <p>See <a href="https://en.wikipedia.org/wiki/P-value">p-value</a></p>
  </li>
  <li>
    <p>What is a prior?</p>

    <p>Not clear what this question is asking and it’s not listed in the book.</p>
  </li>
  <li>
    <p>Provide an example of where the bear classification model might work poorly in production, due to structural or style differences in the training data.</p>

    <p>The model is not well trained on pictures of bears from various angels. The model might struggle with images of bears from above, or from behind, or partial images.</p>
  </li>
  <li>Where do text models currently have a major deficiency?
    <ul>
      <li><strong><em>This is question 1 of Ch 2. in the book.</em></strong></li>
    </ul>
  </li>
  <li>
    <p>What are possible negative societal implications of text generation models?
In situations where a model might make mistakes, and those mistakes could be harmful, what is a good alternative to automating a process?</p>
  </li>
  <li>
    <p>What kind of tabular data is deep learning particularly good at?</p>
  </li>
  <li>
    <p>What’s a key downside of directly using a deep learning model for recommendation systems?</p>

    <p>It doesn’t know how to recommend things outside of its domain that you might still be interested in.</p>
  </li>
  <li>
    <p>What are the steps of the Drivetrain Approach?</p>
  </li>
  <li>
    <p>How do the steps of the Drivetrain Approach map to a recommendation system?</p>
  </li>
  <li>
    <p>Create an image recognition model using data you curate, and deploy it on the web.</p>
  </li>
  <li>
    <p>What is DataLoaders?</p>

    <p>A class that helps prepare a dataset.</p>
  </li>
  <li>
    <p>What four things do we need to tell fastai to create DataLoaders?</p>

    <ol>
      <li>How to find the data (<code class="language-plaintext highlighter-rouge">get_items</code>)</li>
      <li>How to get the dependent and independent variable(s) (<code class="language-plaintext highlighter-rouge">get_x</code>, <code class="language-plaintext highlighter-rouge">get_y</code>)</li>
      <li>Create the data blocks (e.g. images and labels)</li>
      <li>How to transform the items, such as <code class="language-plaintext highlighter-rouge">Resize(128)</code>.</li>
    </ol>
  </li>
  <li>
    <p>What does the splitter parameter to DataBlock do?</p>

    <p>It defines how your data is split up into a training set and a validation set.</p>
  </li>
  <li>
    <p>How do we ensure a random split always gives the same validation set?</p>

    <p>Use a seed value by speifying <code class="language-plaintext highlighter-rouge">seed=int</code> when calling <code class="language-plaintext highlighter-rouge">RandomSplitter()</code>.</p>
  </li>
</ol>

  </div><a class="u-url" href="/education/fastai/2020/09/06/lesson-2.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>Blogging my experiences learning ML via the fast.ai courses.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/tmbeck" target="_blank" title="tmbeck"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
